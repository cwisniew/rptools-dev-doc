<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="My RPTools Developer Ramblings... Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="My RPTools Developer Ramblings... Blog Atom Feed"><title data-react-helmet="true">Speech and Thought Bubbles | My RPTools Developer Ramblings...</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://rptools-doc.craigs-stuff.net//blog/token-speech-bubbles"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_tag" content="default"><meta data-react-helmet="true" property="og:title" content="Speech and Thought Bubbles | My RPTools Developer Ramblings..."><meta data-react-helmet="true" name="description" content="Callouts"><meta data-react-helmet="true" property="og:description" content="Callouts"><meta data-react-helmet="true" property="og:type" content="article"><meta data-react-helmet="true" property="article:published_time" content="2021-09-29T00:00:00.000Z"><meta data-react-helmet="true" property="article:author" content="https://github.com/cwisniew"><meta data-react-helmet="true" property="article:tag" content="MapTool,speech-bubble,MapTool 1.10"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://rptools-doc.craigs-stuff.net//blog/token-speech-bubbles"><link data-react-helmet="true" rel="alternate" href="https://rptools-doc.craigs-stuff.net//blog/token-speech-bubbles" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://rptools-doc.craigs-stuff.net//blog/token-speech-bubbles" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.dff1a1ef.css">
<link rel="preload" href="/assets/js/runtime~main.27bb9c86.js" as="script">
<link rel="preload" href="/assets/js/main.72e5aa1d.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/RPTools_Logo_512.png" alt="RPTools Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/RPTools_Logo_512.png" alt="RPTools Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">My RPTools Developer ramblings...</b></a><a class="navbar__item navbar__link" href="/docs/intro">Documentation</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/road-map/maptool">MapTool Road Map</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/cwisniew/rptools-dev-doc" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper blog-wrapper blog-post-page"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_2ahu thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_2hhb margin-bottom--md">Recent posts</div><ul class="sidebarItemList_2xAf"><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/add-on-libraries">MapTool Add-On Libraries</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/lib-token-uri">Lib:Tokens URI access</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/player-databases">Player Databases</a></li><li class="sidebarItem_2UVv"><a aria-current="page" class="sidebarItemLink_1RT6 sidebarItemLinkActive_12pM" href="/blog/token-speech-bubbles">Speech and Thought Bubbles</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h1 class="blogPostTitle_GeHD" itemprop="headline">Speech and Thought Bubbles</h1><div class="blogPostData_291c margin-vert--md"><time datetime="2021-09-29T00:00:00.000Z" itemprop="datePublished">September 29, 2021</time> Â· 3 min read</div><div class="row margin-top--md margin-bottom--sm"><div class="col col--6 authorCol_1R69"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/cwisniew" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Craig Wisniewski</span></a></div><small class="avatar__subtitle" itemprop="description">MapTool Architect / Lead Developer</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="callouts"></a>Callouts<a class="hash-link" href="#callouts" title="Direct link to heading">#</a></h2><p>One of the new additions in MapTool 1.10 is the ability to override the name that appears in the speech or thought bubble callouts in MapTool.</p><p>For those that are not already familiar with the functionality MapTool provides the ability to display the following callouts on all clients</p><ul><li><p>Pointer - Spacebar<br>
<img alt="Pointer" src="/assets/images/pointer-64395066626124b8b05db18c0f82f8a9.png"></p></li><li><p>Speech Bubble - Control + Spacebar<br>
<img alt="Speech Bubble" src="/assets/images/speech-48ddfff68b7f4200ab9769f6526a976d.png"></p></li><li><p>Thought Bubble - Shift + Spacebar<br>
<img alt="Thought Bubble" src="/assets/images/thought-0d9bf2a8bc05edce9088619490e6f1ef.png"></p></li><li><p>Pointing Finger - Control + Shift +  Spacebar<br>
<img alt="Pointing Finger" src="/assets/images/finger-point-d73684839c3a68bcf706b7ccc8ca8841.png"></p></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="setting-the-speechthought-callout-name"></a>Setting the Speech/Thought Callout Name<a class="hash-link" href="#setting-the-speechthought-callout-name" title="Direct link to heading">#</a></h2><p>Previously these callouts always render the name of the player regardless of where the callout is or impersonation status.
In MapTool 1.10 tokens can have a speech name, this can affect the name displayed for both thought and speech bubbles when the mouse pointer is over the token, or the token is impersonated. </p><p>This can be set when dragging a new token on to the map<br>
<img alt="New Token Dialog" src="/assets/images/new-token-dialog-d6dc582a504d380f39ff0908a24bd923.png"></p><p>Or by editing existing tokens.
<img alt="Edit Token Dialog" src="/assets/images/edit-token-dialog-5c1fb57a4eb4031ab8d3b07bb1f3c519.png"></p><p>Or via macro.<br>
<code>setSpeechName(&quot;Speech bubble name&quot;, tokenId)</code></p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="related-macros"></a>Related Macros<a class="hash-link" href="#related-macros" title="Direct link to heading">#</a></h2><p>There are two related macros
<code>getSpeechName()</code> which returns the speech name for the current token. There is also a trusted variant <code>getSpeechName(tokenId)</code> which will return the speech name for the token with the specified id.</p><p><code>setSpeechName(SpeechBubbleName)</code> sets the speech name for the current token. There is also a trusted variant <code>setSpeechName(SpeechBubbleName, tokenId)</code> which will set the speech name for the token with the specified id.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="examples"></a>Examples<a class="hash-link" href="#examples" title="Direct link to heading">#</a></h2><p>In the following examples the speech and thought bubbles look different to previous versions as another fix in MapTool 1.10 is to size them dynamically so large names wont be rendered outside of the bubbles.</p><p>No impersonated token or token under mouse
<img alt="No Token" src="/assets/images/anon-7c8db71f45998fd6e77a7917624552fd.png"></p><p>Token with Speech Name
<img alt="Token With Speech Name" src="/assets/images/red-dragon-5eb1a932758235f24d7841b0f99d0e34.png"></p><p>Token with really long speech name
<img alt="Really Long Name" src="/assets/images/captain-spalding-4c3bc4d035322b5d2bf8bebe21ecfab0.png"></p><p>Both the eagle and the Dragon have a speech name
<img alt="Impersonated" src="/assets/images/eagle-5d6014823cc28de03fcb200c568d87f2.png"></p><p>Mage and Familiar with Speech Name, mouse over Mage
<img alt="Mage" src="/assets/images/mage-thought-3fbfa57626b5eb8bfd912ef60e0b2dc5.png"></p><p>Mage and Familiar with Speech Name, mouse over Familiar
<img alt="Mage" src="/assets/images/mage-familiar-thought-9a40f442587f33310cd2ac2eb9bc92a2.png"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="determining-which-name-is-displayed"></a>Determining which name is displayed<a class="hash-link" href="#determining-which-name-is-displayed" title="Direct link to heading">#</a></h2><p> In general when deciding which name to use in speech and thought bubbles MapTool will attempt to show the name associated with the following precedence </p><ol><li>Token under the mouse with speech name(if player owns it or is GM)</li><li>Impersonated Token with speech name</li><li>The players name</li></ol><p>Below is a more detailed overview of the logic if you really want to know what it is.</p><div class="mermaid">flowchart TD;
 Start([Start]) --&gt; mouseOver{Mouse Over&lt;br/&gt;Token} --&gt; |Yes| isOwner{Player Owns}
 mouseOver --&gt; |No| impersonated
 isOwner --&gt; |No| impersonated{Token&lt;br/&gt; Impersonated?}
 isOwner --&gt; |Yes| hasSpeechName{Has Speech&lt;br/&gt; Name}
 hasSpeechName --&gt; |Yes| speechName[Use Token&lt;br/&gt;Speech Bubble Name]
 hasSpeechName --&gt; |No| impersonated
 impersonated --&gt; |No| playerName[Use Player Name]
 impersonated --&gt; |Yes| impersonatedHasSpeech{Token Has&lt;br/&gt;Speech Name?}
 impersonatedHasSpeech --&gt; |Yes| impersonatedSpeech[Use Impersonated&lt;br/&gt;Token Speech Name]
 impersonatedHasSpeech --&gt; |No| playerName</div><p>If there are multiple tokens under the mouse (e.g. a Token Stack) and at least one has a speech name then the following logic will be used to determine which is used.</p><div class="mermaid">flowchart TD;
  Start([Start]) --&gt; hasImpersonated{Token&lt;br/&gt; Impersonated?}
  hasImpersonated --&gt; |Yes| impersonatedUnder{Impersonated Token&lt;br/&gt;in Stack?}
  impersonatedUnder --&gt; |Yes| useImpersonated[Use Impersonated&lt;br/&gt;Token Speech Name]
  impersonatedUnder --&gt; |No| topHasSpeech
  hasImpersonated --&gt; |No| topHasSpeech{Top Token&lt;br/&gt;Has Speech Name?}
  topHasSpeech --&gt; |Yes| useTop[Use Top Token&lt;br/&gt;Speech Name]
  topHasSpeech --&gt; |No| useOther[Use Any Token&lt;br/&gt;in Stack&lt;br/&gt;Speech Name]</div></div><footer class="row docusaurus-mt-lg blogPostDetailsFull_3kfx"><div class="col"><b>Tags:</b><ul class="tags_2ga9 padding--none margin-left--sm"><li class="tag_11ep"><a class="tag_1Okp tagRegular_3MiF" href="/blog/tags/map-tool">MapTool</a></li><li class="tag_11ep"><a class="tag_1Okp tagRegular_3MiF" href="/blog/tags/speech-bubble">speech-bubble</a></li><li class="tag_11ep"><a class="tag_1Okp tagRegular_3MiF" href="/blog/tags/map-tool-1-10">MapTool 1.10</a></li></ul></div><div class="col margin-top--sm"><a href="https://github.com/cwisniew/rptools-dev-doc/edit/main/blog/2021-09-29-speech-name/index.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/blog/player-databases"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">Â« Player Databases</div></a></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></main><div class="col col--2"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#callouts" class="table-of-contents__link">Callouts</a></li><li><a href="#setting-the-speechthought-callout-name" class="table-of-contents__link">Setting the Speech/Thought Callout Name</a></li><li><a href="#related-macros" class="table-of-contents__link">Related Macros</a></li><li><a href="#examples" class="table-of-contents__link">Examples</a></li><li><a href="#determining-which-name-is-displayed" class="table-of-contents__link">Determining which name is displayed</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Documentation</a></li><li class="footer__item"><a href="https://wiki.rptools.info" target="_blank" rel="noopener noreferrer" class="footer__link-item">End User Wiki</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://discord.gg/gevEtpC" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.reddit.com/r/MapTool/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Reddit<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://forums.rptools.net/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Forums<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/RPTools" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 Craig Wisniewski. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.27bb9c86.js"></script>
<script src="/assets/js/main.72e5aa1d.js"></script>
</body>
</html>