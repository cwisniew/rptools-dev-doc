<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="My RPTools Developer Ramblings... Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="My RPTools Developer Ramblings... Blog Atom Feed"><title data-react-helmet="true">Lib:Tokens URI access | My RPTools Developer Ramblings...</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://rptools-doc.craigs-stuff.net//blog/lib-token-uri"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_tag" content="default"><meta data-react-helmet="true" property="og:title" content="Lib:Tokens URI access | My RPTools Developer Ramblings..."><meta data-react-helmet="true" name="description" content="Issues with HTML/CSS/JavaScript Prior to MapTool 1.10"><meta data-react-helmet="true" property="og:description" content="Issues with HTML/CSS/JavaScript Prior to MapTool 1.10"><meta data-react-helmet="true" property="og:type" content="article"><meta data-react-helmet="true" property="article:published_time" content="2021-10-02T00:00:00.000Z"><meta data-react-helmet="true" property="article:author" content="https://github.com/cwisniew"><meta data-react-helmet="true" property="article:tag" content="MapTool,lib:tokens,MapTool 1.10"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://rptools-doc.craigs-stuff.net//blog/lib-token-uri"><link data-react-helmet="true" rel="alternate" href="https://rptools-doc.craigs-stuff.net//blog/lib-token-uri" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://rptools-doc.craigs-stuff.net//blog/lib-token-uri" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.dff1a1ef.css">
<link rel="preload" href="/assets/js/runtime~main.d301c2f5.js" as="script">
<link rel="preload" href="/assets/js/main.859f750e.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/RPTools_Logo_512.png" alt="RPTools Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/RPTools_Logo_512.png" alt="RPTools Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">My RPTools Developer ramblings...</b></a><a class="navbar__item navbar__link" href="/docs/intro">Documentation</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/road-map/maptool">MapTool Road Map</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/cwisniew/rptools-dev-doc" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper blog-wrapper blog-post-page"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_2ahu thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_2hhb margin-bottom--md">Recent posts</div><ul class="sidebarItemList_2xAf"><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/add-on-libraries-static-data">MapTool Add-On Libraries and Static Data</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/add-on-libraries">MapTool Add-On Libraries</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/add-on-libraries-old">MapTool Add-On Libraries (Old)</a></li><li class="sidebarItem_2UVv"><a aria-current="page" class="sidebarItemLink_1RT6 sidebarItemLinkActive_12pM" href="/blog/lib-token-uri">Lib:Tokens URI access</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/player-databases">Player Databases</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h1 class="blogPostTitle_GeHD" itemprop="headline">Lib:Tokens URI access</h1><div class="blogPostData_291c margin-vert--md"><time datetime="2021-10-02T00:00:00.000Z" itemprop="datePublished">October 2, 2021</time> Â· 5 min read</div><div class="row margin-top--md margin-bottom--sm"><div class="col col--6 authorCol_1R69"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/cwisniew" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Craig Wisniewski</span></a></div><small class="avatar__subtitle" itemprop="description">MapTool Architect / Lead Developer</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="issues-with-htmlcssjavascript-prior-to-maptool-110"></a>Issues with HTML/CSS/JavaScript Prior to MapTool 1.10<a class="hash-link" href="#issues-with-htmlcssjavascript-prior-to-maptool-110" title="Direct link to heading">#</a></h2><p>Prior to MapTool 1.10 creating HTML pages is unnecessary cumbersome.
To create HTML dialogs, frames, and overlays you use the following roll options.</p><ul><li><code>[frame(): { } ]</code></li><li><code>[frame5(): { } ]</code></li><li><code>[dialog(): { } ]</code></li><li><code>[dialog5(): { } ]</code></li><li><code>[overlay(): { } ]</code></li></ul><p>The HTML is included in the <code>[ ]</code> which means it has to processed by the MTScript parser. This has both benefits and drawbacks.
The main benefit is that you can use <code>[ ]</code> to execute MTScript elements as a form of templating the HTML, for example</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">[frame(&quot;test): {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    [r: getName() ]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}]</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The major drawback is that everything included must be able to pass through the MTScript parser, often this will not be the case especially where CSS or JavaScript are concerned.
You can work around this problem by using macros functions to fetch text from macro, for example:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">[frame5(&quot;test&quot;): {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    [r: getMacroCommand(number(getMacroIndexes(&quot;test/test.html&quot;))) ]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}]</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="changes-in-maptool-110"></a>Changes in MapTool 1.10<a class="hash-link" href="#changes-in-maptool-110" title="Direct link to heading">#</a></h2><p>In MapTool 1.10 there is a change that allows you to access properties and macros on Lib:Tokens via a URI of the form</p><ul><li>lib://<em>&lt;token name&gt;</em>/macro/<em>&lt;macro name&gt;</em></li><li>lib://<em>&lt;token name&gt;</em>/property/<em>&lt;property name&gt;</em></li></ul><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>By default the text fetched using the URI is cached, if you make changes to the content it will not be reflected until you restart MapTool. To work around this you can add the <code>cachelib=false</code> query string as show in examples later on in this post.</p></div></div><p>Where <em>&lt;token name&gt;</em> is the name of the Lib:Token after the Lib: prefix, for example Lib:HTMLTest would be HTMLTest</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="allowing-uri-access"></a>Allowing URI access<a class="hash-link" href="#allowing-uri-access" title="Direct link to heading">#</a></h3><p>There are no special requirements on ownership for the Lib:Token, to allow URI access to Lib:Token properties and macros, anyone will be able to access these values via a URI if the &quot;Allow URI Access&quot; flag needs is set, you can do this via the edit token dialog.
<img alt="Allow URI access" src="/assets/images/allow-uri-access-1372842f2232a8148e58124a73a4d872.png"></p><p>or the <code>setAllowsURIAccess()</code> macro function.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Reserved names</h5></div><div class="admonition-content"><details class="details_2Ziz alert alert--info details_1VDD" data-collapsed="true"><summary>Some names are reserved for future internal usage and you will not be able set the &quot;Allows URI Access&quot; flags on Lib:Tokens </summary><div><div class="collapsibleContent_3OHp"><div>Reserved names are: Lib tokens with the following names (after the lib: part)<ul><li> rptools </li><li> maptool </li><li> maptools (because people often call it maptools) </li><li> internal </li><li> builtin </li><li> standard </li></ul>Lib tokens starting with the following names (after the lib: part)<ul><li> rptools. </li><li> maptool. </li><li> maptools. (because people often call it maptools) </li><li> tokentool. </li><li> net.rptools. </li><li> internal. </li><li> _ </li><li> builtin. </li><li> standard. </li><li> . </li></ul></div></div></div></details></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="macro-functions"></a>Macro functions<a class="hash-link" href="#macro-functions" title="Direct link to heading">#</a></h3><p>Two new MTScript functions have been added that allow you to set or get the &quot;Allows URI access&quot; flag for a token. These can only be run from a trusted macro.</p><ul><li><code>getAllowsURIAccess([&lt;token name&gt;], [&lt;map name&gt;])</code></li><li><code>setAllowsURIAccess(&lt;0|1&gt;, [&lt;token name&gt;, [&lt;map name&gt;])</code></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="uses-for-lib-uris"></a>Uses for lib:// URIs<a class="hash-link" href="#uses-for-lib-uris" title="Direct link to heading">#</a></h3><p>Lib:// URIs are useful for both CSS and JavaScript inclusion in HTML files, creating frames/dialogs/overlays with HTML, and the <code>js.evalURI()</code> MTScript functions.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="including-javascript-and-css-in-html-using-a-lib-uri"></a>Including JavaScript and CSS in HTML using a lib:// URI<a class="hash-link" href="#including-javascript-and-css-in-html-using-a-lib-uri" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly html"><pre tabindex="0" class="prism-code language-html codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">html</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">head</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">link</span><span class="token tag" style="color:#00009f"></span></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">      </span><span class="token tag attr-name" style="color:#00a4db">rel</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">stylesheet</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"></span></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">      </span><span class="token tag attr-name" style="color:#00a4db">href</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">lib://HTMLTest/macro/test/test.css?cachelib=false</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"></span></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">    </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">head</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">body</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">h1</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">This is a test</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">h1</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">test1</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">script</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">src</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">lib://HTMLTest/macro/test/test.js?cachelib=false</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token script"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">img</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">src</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">asset://87f4e9bfa4f1f3db250b57b3599fa4e9</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">body</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">html</span><span class="token tag punctuation" style="color:#393A34">&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>This will include CSS from the macro called test/test.css and the JavaScript from a macro called test/test.js on the Lib:HTMLTest token.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="creating-framesdialogsoverlays-using-a-lib-uri"></a>Creating frames/dialogs/overlays using a lib:// URI<a class="hash-link" href="#creating-framesdialogsoverlays-using-a-lib-uri" title="Direct link to heading">#</a></h4><p>There are also new MTScript functions that allow you to create frames/dialogs/overlays by passing a lib:// URI which contains the HTML.
These are</p><ul><li><code>html.dialog(&lt;dialog name&gt;, &lt;libURI&gt;, [&lt;options&gt;])</code></li><li><code>html.dialog5(&lt;dialog name&gt;, &lt;libURI&gt;, [&lt;options&gt;])</code></li><li><code>html.frame(&lt;frame name&gt;, &lt;libURI&gt;, [&lt;options&gt;])</code></li><li><code>html.frame5(&lt;frame name&gt;, &lt;libURI&gt;, [&lt;options&gt;])</code></li><li><code>html.overlay(&lt;overlay name&gt;, &lt;libURI&gt;, [&lt;options&gt;])</code></li></ul><p>The optional &quot;options&quot; argument contains the same arguments and format as the frame/dialog/overlay <a href="https://wiki.rptools.info/index.php/frame5_%28roll_option%29" target="_blank" rel="noopener noreferrer">roll options</a></p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="relative-paths"></a>Relative paths<a class="hash-link" href="#relative-paths" title="Direct link to heading">#</a></h3><p>When using the following functions</p><ul><li><code>html.dialog5(&lt;dialog name&gt;, &lt;libURI&gt;, [&lt;options&gt;])</code></li><li><code>html.frame5(&lt;frame name&gt;, &lt;libURI&gt;, [&lt;options&gt;])</code></li><li><code>html.overlay(&lt;overlay name&gt;, &lt;libURI&gt;, [&lt;options&gt;])</code></li></ul><p>The URLs in the HTML file can also be specified using relative paths, for example
Given </p><p><img alt="Relative paths macros" src="data:image/png;base64,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"></p><p>If the HTML is loaded from <code>test/test.html</code> you can use relative paths for the other macros as below</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly html"><pre tabindex="0" class="prism-code language-html codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">html</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">head</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">link</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">rel</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">stylesheet</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">href</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">./test.css?cachelib=false</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">head</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">body</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">h1</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">This is a test</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">h1</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&#x27;</span><span class="token tag attr-value" style="color:#e3116c">test1</span><span class="token tag attr-value punctuation" style="color:#393A34">&#x27;</span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token script language-javascript"></span></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">        </span><span class="token script language-javascript dom variable" style="color:#36acaa">document</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access" style="color:#d73a49">getElementById</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&#x27;test1&#x27;</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript property-access">innerHTML</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:#e3116c">&#x27;...This is a test!&#x27;</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">script</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">src</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">./test.js?cachelib=false</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token script"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">img</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">src</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">asset://87f4e9bfa4f1f3db250b57b3599fa4e9</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">a</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">href</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">./test2.html</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">test2</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">a</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">body</span><span class="token tag punctuation" style="color:#393A34">&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>This will even work for hyperlink navigation as seen in the link to <code>./test2.htlm</code> aboove</p><p><img alt="Relative Path Navigation Example" src="/assets/images/relative-path-example-6ac3231c2ab1ad2846cf2994705e9859.gif"></p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="running-javascript-from-a-lib-uri"></a>Running JavaScript from a lib:// URI<a class="hash-link" href="#running-javascript-from-a-lib-uri" title="Direct link to heading">#</a></h4><p>In addition to being able to include JavaScript in HTML via the <code>&lt;script&gt;</code> tag, lib:// URIs can be used to execute JavaScript via the <code>js.evalUI()</code>macro function.</p><ul><li><code>js.evalURI(&lt;namespace&gt;, &lt;libURI&gt;, [arg1, ... argN])</code></li></ul><p>Where</p><ul><li><em>&lt;namespace&gt;</em> is the namespace of the JavaScript context to run the script in.</li><li><em>&lt;libURI&gt;</em> is the lib:// URI to fetch the JavasScript from.</li><li>[arg1, ... argN] is a comma-separated list of arguments to be passed to the script</li></ul></div><footer class="row docusaurus-mt-lg blogPostDetailsFull_3kfx"><div class="col"><b>Tags:</b><ul class="tags_2ga9 padding--none margin-left--sm"><li class="tag_11ep"><a class="tag_1Okp tagRegular_3MiF" href="/blog/tags/map-tool">MapTool</a></li><li class="tag_11ep"><a class="tag_1Okp tagRegular_3MiF" href="/blog/tags/lib-tokens">lib:tokens</a></li><li class="tag_11ep"><a class="tag_1Okp tagRegular_3MiF" href="/blog/tags/map-tool-1-10">MapTool 1.10</a></li></ul></div><div class="col margin-top--sm"><a href="https://github.com/cwisniew/rptools-dev-doc/edit/main/blog/2021-10-02-lib-token-uri/index.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/blog/add-on-libraries-old"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">Â« MapTool Add-On Libraries (Old)</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/blog/player-databases"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">Player Databases Â»</div></a></div></nav></main><div class="col col--2"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#issues-with-htmlcssjavascript-prior-to-maptool-110" class="table-of-contents__link">Issues with HTML/CSS/JavaScript Prior to MapTool 1.10</a></li><li><a href="#changes-in-maptool-110" class="table-of-contents__link">Changes in MapTool 1.10</a><ul><li><a href="#allowing-uri-access" class="table-of-contents__link">Allowing URI access</a></li><li><a href="#macro-functions" class="table-of-contents__link">Macro functions</a></li><li><a href="#uses-for-lib-uris" class="table-of-contents__link">Uses for lib:// URIs</a></li><li><a href="#relative-paths" class="table-of-contents__link">Relative paths</a></li></ul></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Documentation</a></li><li class="footer__item"><a href="https://wiki.rptools.info" target="_blank" rel="noopener noreferrer" class="footer__link-item">End User Wiki</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://discord.gg/gevEtpC" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.reddit.com/r/MapTool/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Reddit<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://forums.rptools.net/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Forums<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/RPTools" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 Craig Wisniewski. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.d301c2f5.js"></script>
<script src="/assets/js/main.859f750e.js"></script>
</body>
</html>